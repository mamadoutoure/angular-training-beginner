<div class="mt-3">


  <form [formGroup]="commandForm" (ngSubmit)="submitForm()" autocomplete="off">

    <div class="card ">

      <!--  - card header -->
      <div class="card-header bg-light">
        <h3 class="card-title text-dark">Créer une commande</h3>

      </div>

      <!--  - card body -->
      <div class="card-body">

        <div class="form-group row">

          <div class="col-md-2">
            <label >Date de commande:</label>
          </div>
          <div class="col-md-3">
            <input formControlName="commandDate" type="text" class="form-control"  [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD' }" bsDatepicker >
          </div>
          <div class="col-md-1">
          </div>
          <div class="col-md-1">
            <label >Client:</label>
          </div>

          <div class="col-md-3">
            <select class="form-control" formControlName="customerCode">
              <option *ngFor="let cli of clientList" [value]="cli.customerCode">{{cli.firstName}} {{cli.lastName}}</option>

              <!--option  *ngFor="let contact of contactCategories" [ngValue]="contact.code">{{contact.description}}</option-->
            </select>
          </div>





        </div>
        <div class="mt-5">
          <hr>
        </div>

        <div class="form-group row">
          <div class="col-5">
            <h6>Deétails de commande:</h6>
          </div>

          <div class="col-3">
            <button type="button" class="btn btn-outline-info" (click)="onAddCommandDetailEntry()">Ajouter ligne détail</button>
          </div>
        </div>


        <div class="form-group row" formArrayName="commandLinesItems"
             *ngFor="let item of commandLinesItems.controls; let i = index;">

          <ng-container [formGroupName]="i">
            <div class="col-4">

              <select  id="contact" class="form-control" formControlName="productCode">
                <option value="">Choisir un produit.</option>
                <option  *ngFor="let product of products" [value]="product.productCode">{{product.productName}}</option>
              </select>
            </div>


            <div class="col-1">
              Quantity:
            </div>
            <div class="col-2">
              <input type="text" class="form-control" formControlName="quantity" id="value" placeholder="">
            </div>

            <div class="col-2">
              <button type="button"  class="btn btn-outline-danger" (click)="onRemoveCommandDetailEntry(i)"><i class="fa fa-trash"></i></button>
            </div>

          </ng-container>
        </div>





      </div>

      <!--  - card footer -->
      <div class="card-footer">
        <button type="submit" class="btn btn-outline-success"><i class="fa fa-save">&nbsp;</i>Sauvegarder</button>
      </div>


    </div>


  </form>


</div>

